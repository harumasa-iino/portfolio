<h1>New Room</h1>
<!-- local:trueで非Ajax形式で送信してCSRFの問題を解決 -->
<%= form_with(model: @room, url: rooms_path, local: true, multipart: true) do |form| %>
  <%= form.label :image %>
  <%= form.file_field :image %>
  <%= form.hidden_field :image_cache %>

  <%= form.submit "Upload Image" %>
<% end %>

<% if @room.image.present? %>
  <h2>Uploaded Image</h2>
  <%= image_tag @room.image.url %>

  <%= link_to "Remove Image", room_path(@room), method: :delete, data: { confirm: 'Are you sure?' } %>
<% end %>
